/*!
* metismenu https://github.com/onokumus/metismenu#readme
* A collapsible jQuery menu plugin
* @version 3.0.7
* @author Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)
* @license: MIT 
*/
import $ from"jquery";const Util=(e=>{const s="transitionend",t={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd(t){e(t).trigger(s)},supportsTransitionEnd:()=>Boolean(s)};function n(s){let n=!1;return e(this).one(t.TRANSITION_END,(()=>{n=!0})),setTimeout((()=>{n||t.triggerTransitionEnd(this)}),s),this}return e.fn.mmEmulateTransitionEnd=n,e.event.special[t.TRANSITION_END]={bindType:s,delegateType:s,handle(s){if(e(s.target).is(this))return s.handleObj.handler.apply(this,arguments)}},t})($),NAME="metisMenu",DATA_KEY="jpressMenu",EVENT_KEY=".jpressMenu",DATA_API_KEY=".data-api",JQUERY_NO_CONFLICT=$.fn[NAME],TRANSITION_DURATION=350,Default={toggle:!0,preventDefault:!0,triggerElement:"a",parentTrigger:"li",subMenu:"ul"},Event={SHOW:"show.jpressMenu",SHOWN:"shown.jpressMenu",HIDE:"hide.jpressMenu",HIDDEN:"hidden.jpressMenu",CLICK_DATA_API:"click.jpressMenu.data-api"},ClassName={METIS:"jpress-menu",ACTIVE:"jpress-active",SHOW:"jpress-show",COLLAPSE:"jpress-collapse",COLLAPSING:"jpress-collapsing",COLLAPSED:"jpress-collapsed"};class MetisMenu{constructor(e,s){this.element=e,this.config={...Default,...s},this.transitioning=null,this.init()}init(){const e=this,s=this.config,t=$(this.element);t.addClass(ClassName.METIS),t.find(`${s.parentTrigger}.${ClassName.ACTIVE}`).children(s.triggerElement).attr("aria-expanded","true"),t.find(`${s.parentTrigger}.${ClassName.ACTIVE}`).parents(s.parentTrigger).addClass(ClassName.ACTIVE),t.find(`${s.parentTrigger}.${ClassName.ACTIVE}`).parents(s.parentTrigger).children(s.triggerElement).attr("aria-expanded","true"),t.find(`${s.parentTrigger}.${ClassName.ACTIVE}`).has(s.subMenu).children(s.subMenu).addClass(`${ClassName.COLLAPSE} ${ClassName.SHOW}`),t.find(s.parentTrigger).not(`.${ClassName.ACTIVE}`).has(s.subMenu).children(s.subMenu).addClass(ClassName.COLLAPSE),t.find(s.parentTrigger).children(s.triggerElement).on(Event.CLICK_DATA_API,(function(t){const n=$(this);if("true"===n.attr("aria-disabled"))return;s.preventDefault&&"#"===n.attr("href")&&t.preventDefault();const i=n.parent(s.parentTrigger),a=i.siblings(s.parentTrigger),r=a.children(s.triggerElement);i.hasClass(ClassName.ACTIVE)?(n.attr("aria-expanded","false"),e.removeActive(i)):(n.attr("aria-expanded","true"),e.setActive(i),s.toggle&&(e.removeActive(a),r.attr("aria-expanded","false"))),s.onTransitionStart&&s.onTransitionStart(t)}))}setActive(e){$(e).addClass(ClassName.ACTIVE);const s=$(e).children(this.config.subMenu);s.length>0&&!s.hasClass(ClassName.SHOW)&&this.show(s)}removeActive(e){$(e).removeClass(ClassName.ACTIVE);const s=$(e).children(`${this.config.subMenu}.${ClassName.SHOW}`);s.length>0&&this.hide(s)}show(e){if(this.transitioning||$(e).hasClass(ClassName.COLLAPSING))return;const s=$(e),t=$.Event(Event.SHOW);if(s.trigger(t),t.isDefaultPrevented())return;if(s.parent(this.config.parentTrigger).addClass(ClassName.ACTIVE),this.config.toggle){const e=s.parent(this.config.parentTrigger).siblings().children(`${this.config.subMenu}.${ClassName.SHOW}`);this.hide(e)}s.removeClass(ClassName.COLLAPSE).addClass(ClassName.COLLAPSING).height(0),this.setTransitioning(!0);s.height(e[0].scrollHeight).one(Util.TRANSITION_END,(()=>{this.config&&this.element&&(s.removeClass(ClassName.COLLAPSING).addClass(`${ClassName.COLLAPSE} ${ClassName.SHOW}`).height(""),this.setTransitioning(!1),s.trigger(Event.SHOWN))})).mmEmulateTransitionEnd(350)}hide(e){if(this.transitioning||!$(e).hasClass(ClassName.SHOW))return;const s=$(e),t=$.Event(Event.HIDE);if(s.trigger(t),t.isDefaultPrevented())return;s.parent(this.config.parentTrigger).removeClass(ClassName.ACTIVE),s.height(s.height())[0].offsetHeight,s.addClass(ClassName.COLLAPSING).removeClass(ClassName.COLLAPSE).removeClass(ClassName.SHOW),this.setTransitioning(!0);const n=()=>{this.config&&this.element&&(this.transitioning&&this.config.onTransitionEnd&&this.config.onTransitionEnd(),this.setTransitioning(!1),s.trigger(Event.HIDDEN),s.removeClass(ClassName.COLLAPSING).addClass(ClassName.COLLAPSE))};0===s.height()||"none"===s.css("display")?n():s.height(0).one(Util.TRANSITION_END,n).mmEmulateTransitionEnd(350)}setTransitioning(e){this.transitioning=e}dispose(){$.removeData(this.element,DATA_KEY),$(this.element).find(this.config.parentTrigger).children(this.config.triggerElement).off(Event.CLICK_DATA_API),this.transitioning=null,this.config=null,this.element=null}static jQueryInterface(e){return this.each((function(){const s=$(this);let t=s.data(DATA_KEY);const n={...Default,...s.data(),..."object"==typeof e&&e?e:{}};if(t||(t=new MetisMenu(this,n),s.data(DATA_KEY,t)),"string"==typeof e){if(void 0===t[e])throw new Error(`No method named "${e}"`);t[e]()}}))}}$.fn[NAME]=MetisMenu.jQueryInterface,$.fn[NAME].Constructor=MetisMenu,$.fn[NAME].noConflict=()=>($.fn[NAME]=JQUERY_NO_CONFLICT,MetisMenu.jQueryInterface);export default MetisMenu;
//# sourceMappingURL=metisMenu.esm.min.js.map